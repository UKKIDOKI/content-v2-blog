import{o,a as l,b as e,e as m,O as y,P as k,h as H,Q as _,R as w,S as $,c as f,A as p,f as d,u as n,U as h,y as P,i as T,V,k as z}from"./entry.378ef667.js";import A from"./ContentRenderer.3e3f2e93.js";import{u as L,q as g}from"./query.f142dc9f.js";import"./ContentRendererMarkdown.da3540eb.js";import"./index.a6ef77ff.js";import"./preview.706e6dc6.js";import"./utils.a07ee1f6.js";function R(s,a){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z","clip-rule":"evenodd"})])}function q(s,a){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M12.97 3.97a.75.75 0 011.06 0l7.5 7.5a.75.75 0 010 1.06l-7.5 7.5a.75.75 0 11-1.06-1.06l6.22-6.22H3a.75.75 0 010-1.5h16.19l-6.22-6.22a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}const D=s=>(w("data-v-340011e1"),s=s(),$(),s),M={class:"toc"},O=D(()=>e("header",{class:"toc-header"},[e("h3",{class:"text-xl font-bold"},"Table of contents")],-1)),E={class:"toc-links"},F=["href"],Q={__name:"Toc",props:["links"],setup(s){const a=r=>{let c=r.map(t=>{let i=[t];if(t.children){let u=a(t.children);i=[t,...u]}return i}).flat(1);return console.log({_links:c}),c};return(r,c)=>(o(),l("nav",M,[O,e("ul",E,[(o(!0),l(y,null,k(a(s.links),t=>(o(),l("li",{key:t.id,class:H(`toc-link _${t.depth}`)},[e("a",{href:`#${t.id}`},_(t.text),9,F)],2))),128))])]))}},U=m(Q,[["__scopeId","data-v-340011e1"]]);const j={class:"prev-next-cont"},G={class:"link-item prev"},J={class:"link-item next"},K={__name:"PrevNext",props:["prev","next"],setup(s){return(a,r)=>{const c=P;return o(),l("ul",j,[e("li",G,[s.prev?(o(),f(c,{key:0,to:s.prev._path},{default:p(()=>[d(n(R),{class:"icon stroke"}),e("span",null,_(s.prev.title),1)]),_:1},8,["to"])):h("",!0)]),e("li",J,[s.next?(o(),f(c,{key:0,to:s.next._path},{default:p(()=>[e("span",null,_(s.next.title),1),d(n(q),{class:"icon stroke"})]),_:1},8,["to"])):h("",!0)])])}}},W=m(K,[["__scopeId","data-v-09d80825"]]);const b=s=>(w("data-v-2a90bf59"),s=s(),$(),s),X={id:"main",class:"article-main"},Y={key:0,class:"article-header"},Z={class:"img-cont h-72 mb-12"},tt=["src","alt"],et={class:"heading"},st={class:"supporting"},nt={class:"article-tags"},ot=b(()=>e("hr",null,null,-1)),at={class:"article-section"},ct={class:"aside"},lt={class:"article"},rt=b(()=>e("p",null,"No content found.",-1)),_t={__name:"[...slug]",async setup(s){let a,r;const{path:c}=T(),{data:t}=([a,r]=V(async()=>L(`content-${c}`,async()=>{let v=g().where({_path:c}).findOne(),x=g().only(["_path","title","description"]).sort({date:1}).findSurround(c);return{article:await v,surround:await x}})),a=await a,r(),a),[i,u]=t.value.surround;return console.log({data:t,prev:i,next:u}),z({title:t.value.article.title,meta:[{name:"description",content:t.value.article.description},{hid:"og:image",property:"og:image",content:`https://site.com/${t.value.article.img}`}]}),(v,x)=>{const C=U,N=A,I=W;return o(),l("main",X,[n(t).article?(o(),l("header",Y,[e("div",Z,[e("img",{src:`/${n(t).article.img}`,alt:n(t).article.title,class:"rounded-2xl"},null,8,tt)]),e("h1",et,_(n(t).article.title),1),e("p",st,_(n(t).article.description),1),e("ul",nt,[(o(!0),l(y,null,k(n(t).article.tags,(S,B)=>(o(),l("li",{class:"tag",key:B},_(S),1))),128))])])):h("",!0),ot,e("section",at,[e("aside",ct,[d(C,{links:n(t).article.body.toc.links},null,8,["links"])]),e("article",lt,[d(N,{value:n(t).article},{empty:p(()=>[rt]),_:1},8,["value"])])]),d(I,{prev:n(i),next:n(u)},null,8,["prev","next"])])}}},xt=m(_t,[["__scopeId","data-v-2a90bf59"]]);export{xt as default};
